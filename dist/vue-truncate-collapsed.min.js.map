{"version":3,"file":"vue-truncate-collapsed.min.js","sources":["../src/truncate.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"!show && type !== 'html'\">\n      <span :class=\"textClass\">\n        {{ truncate(text) }}\n      </span>\n      <a\n        v-if=\"text.length >= length\"\n        :class=\"actionClass\"\n        @click=\"toggle()\">{{ clamp }}</a>\n    </div>\n    <div v-else-if=\"!show && type === 'html'\">\n      <span\n        :class=\"textClass\"\n        v-html=\"truncate(text)\" />\n      <a\n        v-if=\"text.length >= length\"\n        :class=\"actionClass\"\n        @click=\"toggle()\">{{ clamp }}</a>\n    </div>\n    <div v-if=\"show && type !== 'html'\">\n      <span>{{ text }}</span>\n      <a\n        v-if=\"text.length >= length\"\n        :class=\"actionClass\"\n        @click=\"toggle()\">{{ less }}</a>\n    </div>\n    <div v-else-if=\"show && type === 'html'\">\n      <div\n        v-if=\"text.length >= length\"\n        v-html=\"text\" />\n      <a\n        v-if=\"text.length >= length\"\n        :class=\"actionClass\"\n        @click=\"toggle()\">{{ less }}</a>\n      <p v-else>\n        {{ h2p(text) }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nconst h2p = require('html-truncate');\n\nexport default {\n  name: 'Truncate',\n\n  props: {\n    collapsedTextClass: {\n      type: String,\n      default: '',\n    },\n    text: {\n      type: String,\n      required: true,\n    },\n    clamp: {\n      type: String,\n      default: 'Read More',\n    },\n    length: {\n      type: Number,\n      default: 100,\n    },\n    less: {\n      type: String,\n      default: 'Show Less',\n    },\n    type: {\n      type: String,\n      default: 'text',\n    },\n    actionClass: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      show: false,\n      counter: this.length,\n    };\n  },\n  computed: {\n    textClass() {\n      return (this.text.length > this.length && this.collapsedTextClass) ? this.collapsedTextClass : '';\n    },\n  },\n  methods: {\n    truncate(string) {\n      if (string) {\n        if (this.type === 'html') return h2p(string, this.length);\n\n        return string.toString().substring(0, this.length);\n      }\n\n      return '';\n    },\n    toggle() {\n      const toggled = !this.show;\n\n      this.show = toggled;\n      this.$emit('toggle', toggled);\n    },\n\n    h2p(text) {\n      return h2p(text);\n    },\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n  a {\n    cursor: pointer;\n  }\n</style>\n"],"names":["const","h2p","require","render","String","Number","this","length","text","collapsedTextClass","string","type","toString","substring","toggled","show","$emit"],"mappings":";;;;;iMAAA,4SAAA,GA2CAA,IAAMC,EAAMC,QAAQ,wBAEJC,skCACR,2CAIIC,eACG,eAGHA,iBACI,eAGJA,eACG,0BAGHC,eACG,gBAGHD,eACG,wBAGHA,eACG,0BAGHA,eACG,kCAKH,UACGE,KAAKC,+CAKND,KAAKE,KAAKD,OAASD,KAAKC,QAAUD,KAAKG,mBAAsBH,KAAKG,mBAAqB,gCAIxFC,UACHA,EACgB,SAAdJ,KAAKK,KAAwBV,EAAIS,EAAQJ,KAAKC,QAE3CG,EAAOE,WAAWC,UAAU,EAAGP,KAAKC,QAGtC,0BAGDO,GAAWR,KAAKS,UAEjBA,KAAOD,OACPE,MAAM,SAAUF,iBAGnBN,UACKP,EAAIO"}